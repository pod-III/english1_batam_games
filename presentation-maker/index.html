<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentation Maker</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for both themes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Coming+Soon&family=Inter:wght@400;700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <!-- Lucide icons for the theme toggle -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* Base styles for the kid-friendly theme */
        body {
            background-color: #DBEAFE; /* light blue */
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease-in-out;
        }
        .container-bg {
            background-color: #FFFFFF;
            border-color: #FACC15; /* yellow */
            transition: background-color 0.3s ease-in-out, border-color 0.3s ease-in-out;
        }
        .font-fun {
            font-family: 'Coming Soon', cursive;
        }
        .slide-bg {
            background-color: #FEF9C3; /* light yellow */
            border-color: #EC4899; /* pink */
            transition: background-color 0.3s ease-in-out, border-color 0.3s ease-in-out;
        }
        .input-border {
            border-color: #34D399; /* green */
            transition: border-color 0.3s ease-in-out;
        }
        .generate-btn {
            background-color: #A855F7; /* purple */
            transition: background-color 0.3s ease-in-out, transform 0.2s ease-in-out;
        }

        /* Styles for the teenager-friendly theme (dark mode) */
        body.teen-theme {
            background-color: #1F2937; /* dark gray */
        }
        body.teen-theme .container-bg {
            background-color: #374151; /* gray */
            border-color: #8B5CF6; /* purple */
        }
        body.teen-theme .font-fun {
            font-family: 'Poppins', sans-serif;
        }
        body.teen-theme .title {
            color: #E5E7EB; /* light gray */
        }
        body.teen-theme .slide-bg {
            background-color: #111827; /* extra dark gray */
            border-color: #8B5CF6; /* purple */
        }
        body.teen-theme .slide-text {
            color: #E5E7EB;
        }
        body.teen-theme .input-border {
            border-color: #8B5CF6; /* purple */
            color: #E5E7EB;
            background-color: #1F2937;
        }
        body.teen-theme .input-placeholder::placeholder {
            color: #9CA3AF;
        }
        body.teen-theme .generate-btn {
            background-color: #10B981; /* green */
        }
        body.teen-theme .back-btn {
            background-color: #EF4444; /* red */
        }
        body.teen-theme .next-btn {
            background-color: #8B5CF6;
        }
        body.teen-theme .prev-btn {
            background-color: #4B5563;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 font-body">

    <!-- Theme Toggle Button -->
    <button id="theme-toggle" class="absolute top-4 right-4 p-2 rounded-full bg-white shadow-md hover:scale-105 transition-transform duration-200 z-10">
        <!-- Moon icon for the kid-friendly theme (light), to toggle to the teen theme (dark) -->
        <i id="moon-icon" data-lucide="moon" class="w-6 h-6 text-gray-800"></i>
        <!-- Sun icon for the teen theme (dark), to toggle to the kid-friendly theme (light) -->
        <i id="sun-icon" data-lucide="sun" class="w-6 h-6 text-gray-800 hidden"></i>
    </button>

    <!-- Main Application Container -->
    <div class="container-bg rounded-3xl shadow-xl border-4 p-6 md:p-8 lg:p-12 w-full max-w-4xl relative">

        <!-- Console View: Where the user inputs sentences -->
        <div id="console-view" class="flex flex-col space-y-6">
            <h1 class="title text-3xl md:text-4xl font-bold text-gray-800 text-center font-fun">Presentation Maker</h1>
            <p class="text-gray-600 text-center font-body">
                Enter your sentences below, separated by periods, question marks, or exclamation marks, and click "Generate".
            </p>
            
            <textarea
                id="sentence-input"
                class="input-border w-full p-4 h-48 md:h-64 border-4 rounded-2xl focus:outline-none focus:ring-4 focus:ring-green-300 transition-colors resize-none font-fun"
                placeholder="Example: The quick brown fox jumps over the lazy dog. Is a cat a good pet? What a beautiful day!"
            ></textarea>
            
            <button
                id="generate-btn"
                class="generate-btn text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-purple-600 transition-all transform hover:scale-105 self-center font-fun text-xl"
            >
                Generate Presentation
            </button>
        </div>

        <!-- Presentation View: Displays the slides -->
        <div id="presentation-view" class="hidden flex flex-col space-y-6 items-center">
            
            <!-- Slide Container -->
            <div class="slide-bg w-full border-4 rounded-2xl shadow-md flex items-center justify-center p-8 h-[50vh] md:h-[60vh] lg:h-[70vh]">
                <p id="slide-text" class="slide-text text-gray-800 text-3xl md:text-5xl lg:text-6xl font-bold text-center leading-tight font-fun"></p>
            </div>

            <!-- Slide Counter -->
            <div class="text-gray-600 font-semibold font-body" id="slide-counter"></div>

            <!-- Navigation Buttons -->
            <div class="flex space-x-4 mt-4">
                <button
                    id="prev-btn"
                    class="prev-btn bg-blue-300 text-gray-800 font-bold py-3 px-6 rounded-full shadow-md hover:bg-blue-400 transition-colors transform hover:scale-105"
                >
                    Previous
                </button>
                <button
                    id="next-btn"
                    class="next-btn bg-green-500 text-white font-bold py-3 px-6 rounded-full shadow-md hover:bg-green-600 transition-colors transform hover:scale-105"
                >
                    Next
                </button>
            </div>

            <!-- Back to Console Button -->
            <button
                id="back-to-console-btn"
                class="back-btn mt-8 bg-red-400 text-white font-bold py-2 px-4 rounded-full hover:bg-red-500 transition-colors"
            >
                Back to Editor
            </button>
        </div>

    </div>

    <script>
        // --- DOM Elements ---
        const consoleView = document.getElementById('console-view');
        const presentationView = document.getElementById('presentation-view');
        const sentenceInput = document.getElementById('sentence-input');
        const generateBtn = document.getElementById('generate-btn');
        const slideText = document.getElementById('slide-text');
        const slideCounter = document.getElementById('slide-counter');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const backToConsoleBtn = document.getElementById('back-to-console-btn');
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;
        const moonIcon = document.getElementById('moon-icon');
        const sunIcon = document.getElementById('sun-icon');
        
        // --- State Variables ---
        let sentences = [];
        let currentSlideIndex = 0;

        // --- Functions ---
        
        /**
         * Renders the current slide based on the currentSlideIndex.
         */
        const renderSlide = () => {
            if (sentences.length > 0) {
                slideText.textContent = sentences[currentSlideIndex];
                slideCounter.textContent = `${currentSlideIndex + 1} of ${sentences.length}`;
            } else {
                slideText.textContent = "No content to display.";
                slideCounter.textContent = "0 of 0";
            }
        };

        /**
         * Navigates to the next slide.
         */
        const nextSlide = () => {
            if (currentSlideIndex < sentences.length - 1) {
                currentSlideIndex++;
                renderSlide();
            }
        };

        /**
         * Navigates to the previous slide.
         */
        const prevSlide = () => {
            if (currentSlideIndex > 0) {
                currentSlideIndex--;
                renderSlide();
            }
        };

        /**
         * Switches the view from the console to the presentation.
         */
        const showPresentation = () => {
            consoleView.classList.add('hidden');
            presentationView.classList.remove('hidden');
        };

        /**
         * Switches the view from the presentation back to the console.
         */
        const showConsole = () => {
            presentationView.classList.add('hidden');
            consoleView.classList.remove('hidden');
            // Reset state
            sentences = [];
            currentSlideIndex = 0;
            slideText.textContent = "";
            slideCounter.textContent = "";
        };

        /**
         * Toggles between the kid-friendly and teenager-friendly themes.
         */
        const toggleTheme = () => {
            body.classList.toggle('teen-theme');
            sunIcon.classList.toggle('hidden');
            moonIcon.classList.toggle('hidden');
            // Manually re-render Lucide icons after they are shown/hidden
            lucide.createIcons();
        };

        // --- Event Listeners ---
        
        // Handle "Generate Presentation" button click
        generateBtn.addEventListener('click', () => {
            const inputText = sentenceInput.value;
            if (inputText.trim() === '') {
                // If input is empty, do nothing
                return;
            }
            
            // Split the input text by periods, question marks, or exclamation marks, 
            // filter out empty strings, and trim whitespace
            sentences = inputText.split(/[.?!]/).map(s => s.trim()).filter(s => s.length > 0);
            
            if (sentences.length > 0) {
                currentSlideIndex = 0; // Start at the first slide
                renderSlide();
                showPresentation();
            }
        });
        
        // Handle "Next" button click
        nextBtn.addEventListener('click', nextSlide);

        // Handle "Previous" button click
        prevBtn.addEventListener('click', prevSlide);

        // Handle "Back to Console" button click
        backToConsoleBtn.addEventListener('click', showConsole);

        // Handle theme toggle button click
        themeToggle.addEventListener('click', toggleTheme);

    </script>
</body>
</html>
