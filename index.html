<!DOCTYPE html><html><body>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>English 1 Batam Game Hub</title>
  <!-- FAVICON: Added the favicon link -->
  <<link rel="icon" href="images/favicon.png" type="image/png">
  <!-- Tailwind CSS CDN for styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google Fonts for a more fitting theme -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <!-- Lucide icons for the theme toggle and close button -->
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <!-- Custom CSS for visual enhancements and dark mode transition -->
  <style>
    :root {
      color-scheme: light;
    }
    html.dark {
      color-scheme: dark;
    }
    body {
      transition: background-color 0.3s, color 0.3s;
      /* Gradient background for light mode */
      background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%);
    }
    body.dark {
      /* Gradient background for dark mode */
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    }
    iframe {
      border: none;
    }
    /* Define custom font classes for Tailwind */
    .font-heading {
      font-family: 'Bebas Neue', sans-serif;
      letter-spacing: 0.05em;
    }
    .font-body {
      font-family: 'Inter', sans-serif;
    }
    /* Animated gradient background for header */
    .header-gradient {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* Purple/Blue Gradient */
      position: relative;
      overflow: hidden;
    }
    .dark .header-gradient {
        background: linear-gradient(135deg, #1f2937 0%, #0f172a 100%); /* Dark Gradient */
    }

    .header-gradient::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 200%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      animation: shimmer 3s infinite;
      pointer-events: none; /* Ensure text remains clickable */
    }
    @keyframes shimmer {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    /* Enhanced card hover effects */
    .card-hover-effect {
      position: relative;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid transparent; /* Base border for effect */
    }
    /* Creates the gradient border on hover */
    .card-hover-effect::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 1rem;
      padding: 2px;
      /* Use the custom CSS variable for the color */
      background: linear-gradient(135deg, var(--card-border-color), transparent); 
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: 0;
      transition: opacity 0.4s;
      z-index: 10;
    }
    .card-hover-effect:hover::before {
      opacity: 1;
    }

    /* Combined hover transformation */
    .card-hover-effect:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.25);
      z-index: 20;
    }
    .dark .card-hover-effect:hover {
      box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.5);
    }

    /* Card image overlay effect */
    .card-image-wrapper {
      position: relative;
      overflow: hidden;
    }
    .card-image-wrapper::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      /* Dark gradient overlay for better text contrast/hover */
      background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.4) 100%);
      opacity: 0;
      transition: opacity 0.3s;
    }
    .card-hover-effect:hover .card-image-wrapper::after {
      opacity: 1;
    }

    /* Section header underline animation (applied via JS scroll observation later) */
    .section-header {
      position: relative;
      display: inline-block;
    }
    .section-header::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      width: 0;
      height: 3px;
      background: currentColor;
      transition: width 0.6s ease;
    }
    .section-header.animate::after {
      width: 100%;
    }

    /* Pulse animation for theme toggle */
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4); }
      50% { box-shadow: 0 0 0 8px rgba(255, 255, 255, 0); }
    }
    #theme-toggle:hover {
      animation: pulse-glow 1.5s infinite;
    }

    /* Modal backdrop blur enhancement */
    .modal-backdrop {
      backdrop-filter: blur(12px);
      animation: fadeIn 0.3s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* Button ripple effect - applied to modal buttons */
    .btn-ripple {
      position: relative;
      overflow: hidden;
    }
    .btn-ripple::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.5);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
      opacity: 0;
    }
    .btn-ripple:active::after {
      width: 300px;
      height: 300px;
      opacity: 1;
      transition: none; /* Disable transition on activation */
    }
  </style>
</head>
<body class="dark bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-50 font-body">

  <!-- Header section with title and theme toggle (Now uses the header-gradient class) -->
  <header class="header-gradient p-4 md:p-6 shadow-lg sticky top-0 z-50 flex justify-between items-center">
    <!-- Combined Logo and Title: Wrapped in a flex container for alignment -->
    <div class="flex items-center space-x-3">
        <!-- Icon: UPDATED: Larger, non-circular, no border -->
        <img src="./media/icon.png" alt="E1 Logo" class="h-10 md:h-12 w-10 md:w-12 shadow-lg">
        <h1 class="text-3xl md:text-4xl font-bold font-heading text-white tracking-widest">
          ENGLISH 1 BATAM GAME HUB
        </h1>
    </div>
    <button id="theme-toggle" class="p-2 rounded-full text-gray-300 hover:bg-gray-700 transition-colors" aria-label="Toggle dark mode">
      <!-- Sun icon for light mode -->
      <div id="sun-icon" class="lucide lucide-sun" style="display: none;">
        <circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="M4.93 4.93l1.41 1.41"></path><path d="M17.66 17.66l1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="M6.34 17.66l-1.41 1.41"></path><path d="M19.07 4.93l-1.41 1.41"></path>
      </div>
      <!-- Moon icon for dark mode -->
      <div id="moon-icon" class="lucide lucide-moon" style="display: block;">
        <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
      </div>
    </button>
  </header>

  <!-- Main content area with the game grid -->
  <main class="p-4 md:p-6 lg:p-8 flex flex-col items-center">
    <!-- Tools Section -->
    <section id="tools-section" class="max-w-7xl w-full mb-12">
      <h2 id="tools-header" class="section-header text-3xl font-bold font-heading mb-6 pb-2 border-b-2 border-transparent text-gray-800 dark:text-gray-200">
        <span class="text-green-500">T</span>OOLS
      </h2>
      <div id="tools-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
        <!-- Tool cards will be inserted here by JavaScript -->
      </div>
    </section>
    
    <!-- Games Section -->
    <section id="games-section" class="max-w-7xl w-full">
      <h2 id="games-header" class="section-header text-3xl font-bold font-heading mb-6 pb-2 border-b-2 border-transparent text-gray-800 dark:text-gray-200">
        <span class="text-pink-500">G</span>AMES
      </h2>
      <div id="games-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
        <!-- Game cards will be inserted here by JavaScript -->
      </div>
    </section>
  </main>

  <!-- Game Modal -->
  <div id="game-modal" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black bg-opacity-75 modal-backdrop">
    <div class="relative w-full h-full max-w-7xl max-h-[95vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden">
      <div class="flex justify-between items-center p-4 bg-gray-100 dark:bg-gray-800 shadow-lg">
        <h2 id="modal-title" class="text-xl font-bold font-heading truncate"></h2>
        <div class="flex items-center space-x-3">
          <!-- Updated fullscreen button with ripple effect -->
          <button id="modal-fullscreen-btn" class="flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-full font-semibold hover:bg-blue-600 transition-colors shadow-md hover:shadow-lg btn-ripple" aria-label="Toggle fullscreen">
            <div class="lucide lucide-maximize-2">
              <polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><path d="M21 3 14 10"></path><path d="M3 21 10 14"></path>
            </div>
            <span>Fullscreen</span>
          </button>
          <!-- A more descriptive "Exit Game" button with ripple effect -->
          <button id="modal-exit-text-btn" class="px-4 py-2 bg-red-500 text-white rounded-full font-semibold hover:bg-red-600 transition-colors shadow-md hover:shadow-lg btn-ripple" aria-label="Exit Game">
            Exit Game
          </button>
          <!-- The original close button icon -->
          <button id="modal-close-btn" class="p-2 rounded-full text-gray-500 hover:text-red-500 dark:text-gray-400 dark:hover:text-red-400 transition-colors" aria-label="Close game">
            <div class="lucide lucide-x">
              <path d="M18 6 6 18"></path><path d="m6 6 12 12"></path>
            </div>
          </button>
        </div>
      </div>
      <!-- The iframe to embed the game -->
      <iframe id="game-iframe" src="" class="w-full h-full" allow="fullscreen"></iframe>
    </div>
  </div>

  <script>
    // Define the color palette variables for use in CSS/JS
    const COLORS = {
        game: {
            hex: '#F472B6', // Pink-400
            name: 'pink'
        },
        tool: {
            hex: '#10B981', // Green-500
            name: 'green'
        }
    };

    const games = [
      // Color Palette Reference (using Tailwind classes for placeholders):
      // Pink: F472B6, Blue: 3B82F6, Green: 10B981, Orange: F97316
      // --- Existing Items (Updated Placeholder Colors for consistency) ---
      {
        id: 1,
        title: 'Catickory',
        category: 'game',
        thumbnail: 'https://placehold.co/600x400/F472B6/ffffff.png?text=Catickory', // Pink
        url: 'https://catickory.com/',
      },
      {
        id: 2,
        title: 'Detective Game',
        category: 'game',
        thumbnail: 'https://placehold.co/600x400/3B82F6/ffffff.png?text=Detective+Game', // Blue
        url: './detective-game/index.html',
      },
      {
        id: 3,
        title: 'Spin the Wheel',
        category: 'tool',
        thumbnail: 'https://placehold.co/600x400/10B981/ffffff.png?text=Spin+the+Wheel', // Green
        url: './spin-the-wheel/index.html',
      },
      {
        id: 4,
        title: 'Reveal the Picture',
        category: 'game',
        thumbnail: 'https://placehold.co/600x400/F97316/ffffff.png?text=Reveal+Picture', // Orange
        url: './reveal-picture-game/index.html',
      },
      {
        id: 5,
        title: 'Team Picker',
        category: 'tool',
        thumbnail: 'https://placehold.co/600x400/F472B6/ffffff.png?text=Team+Picker', // Pink (Tools use Pink/Green/Orange/Blue)
        url: './team-picker/index.html',
      },
      {
        id: 6,
        title: 'Timer',
        category: 'tool',
        thumbnail: 'https://placehold.co/600x400/3B82F6/ffffff.png?text=Timer', // Blue
        url: './timer/index.html',
      },
      {
        id: 7,
        title: 'Hangman',
        category: 'game',
        thumbnail: 'https://placehold.co/600x400/10B981/ffffff.png?text=Hangman', // Green
        url: './hangman/index.html',
      },
      {
        id: 8,
        title: 'Unscramble',
        category: 'game',
        thumbnail: 'https://placehold.co/600x400/F97316/ffffff.png?text=Unscramble', // Orange
        url: './unscramble/index.html',
      },
      {
        id: 9,
        title: 'Word Flashcard',
        category: 'game',
        thumbnail: 'https://placehold.co/600x400/F472B6/ffffff.png?text=Word+Flashcard', // Pink
        url: './word-flashcard/index.html',
      },
      {
        id: 10,
        title: 'Sentence Unscrambler',
        category: 'game',
        thumbnail: 'https://placehold.co/600x400/3B82F6/ffffff.png?text=Sentence+Unscrambler', // Blue
        url: './sentence-unscrambler/index.html',
      },
      {
        id: 11,
        title: 'Story Order',
        category: 'game',
        thumbnail: 'https://placehold.co/600x400/10B981/ffffff.png?text=Story+Order', // Green
        url: './story-ordering/index.html',
      },
      {
        id: 12,
        title: 'Word Scrambler',
        category: 'tool',
        thumbnail: 'https://placehold.co/600x400/F97316/ffffff.png?text=Word+Scrambler', // Orange
        url: './word-scrambler/index.html',
      },
      {
        id: 13,
        title: 'Presentation Maker',
        category: 'tool',
        thumbnail: 'https://placehold.co/600x400/F472B6/ffffff.png?text=Presentation+Maker', // Pink
        url: './presentation-maker/index.html',
      },
      
      // --- NEW ITEMS ---
      {
        id: 14,
        title: 'Card Match (Memory)',
        category: 'game',
        thumbnail: 'https://placehold.co/600x400/3B82F6/ffffff.png?text=Card+Match', // Blue
        url: './card-match/index.html',
      },
      {
        id: 15,
        title: 'Random Word Display',
        category: 'tool',
        thumbnail: 'https://placehold.co/600x400/10B981/ffffff.png?text=Random+Word+Display', // Green
        url: './random-word-display/index.html',
      },
      {
        id: 16,
        title: 'Task Assigner (Roles)',
        category: 'tool',
        thumbnail: 'https://placehold.co/600x400/F97316/ffffff.png?text=Task+Assigner', // Orange
        url: './task-assigner/index.html',
      },
    ];

    // Get DOM elements
    const body = document.body;
    const themeToggle = document.getElementById('theme-toggle');
    const sunIcon = document.getElementById('sun-icon');
    const moonIcon = document.getElementById('moon-icon');
    const toolsGrid = document.getElementById('tools-grid');
    const gamesGrid = document.getElementById('games-grid');
    const gameModal = document.getElementById('game-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalCloseBtn = document.getElementById('modal-close-btn');
    const modalExitTextBtn = document.getElementById('modal-exit-text-btn');
    const gameIframe = document.getElementById('game-iframe');
    const fullscreenBtn = document.getElementById('modal-fullscreen-btn');
    const toolsHeader = document.getElementById('tools-header');
    const gamesHeader = document.getElementById('games-header');

    // State for dark mode
    let isDarkMode = true; // Assume dark mode is the default, matching the initial class on body

    // Function to toggle dark mode
    const toggleDarkMode = () => {
      isDarkMode = !isDarkMode;
      if (isDarkMode) {
        body.classList.add('dark');
        sunIcon.style.display = 'none';
        moonIcon.style.display = 'block';
      } else {
        body.classList.remove('dark');
        sunIcon.style.display = 'block';
        moonIcon.style.display = 'none';
      }
    };

    // Function to create a game card element
    const createGameCard = (game) => {
      const card = document.createElement('div');
      
      // Determine the border color based on category, defaulting to the game color
      const colorConfig = COLORS[game.category] || COLORS.game;
      const borderColor = colorConfig.hex;

      card.dataset.id = game.id;
      // Added card-image-wrapper class to enable the image hover effect
      card.className = 'bg-white dark:bg-gray-800 rounded-2xl shadow-xl transition-all duration-300 cursor-pointer overflow-hidden card-hover-effect';
      
      // Set the custom CSS variable for the hover glow effect
      card.style.setProperty('--card-border-color', borderColor);

      card.innerHTML = `
        <!-- Top color bar indicating the category (Tool or Game) -->
        <!-- FIX: Replaced dynamic Tailwind class with inline style for robustness -->
        <div class="h-1" style="background-color: ${borderColor};"></div>
        <div class="card-image-wrapper">
            <img
            src="${game.thumbnail}"
            alt="${game.title}"
            class="w-full h-40 object-cover transition-transform duration-300 transform"
            loading="lazy"
            onerror="this.onerror=null; this.src='https://placehold.co/600x400/AAAAAA/000000.png?text=Missing+Image';"
            />
        </div>
        <div class="p-4">
          <!-- Text is bolder and slightly larger for impact -->
          <h3 class="text-xl font-semibold font-heading truncate">${game.title}</h3>
          <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">${game.category.charAt(0).toUpperCase() + game.category.slice(1)}</p>
        </div>
      `;
      
      return card;
    };

    // Function to render all games
    const renderGames = () => {
      // Clear previous content from both grids
      toolsGrid.innerHTML = '';
      gamesGrid.innerHTML = '';
      
      games.forEach(game => {
        const card = createGameCard(game);
        if (game.category === 'tool') {
          toolsGrid.appendChild(card);
        } else {
          gamesGrid.appendChild(card);
        }
      });
    };
    
    // Function to open the game modal
    const openGameModal = (game) => {
      modalTitle.textContent = game.title;
      gameIframe.src = game.url;
      gameModal.classList.remove('hidden');
    };

    // Function to close the game modal and exit fullscreen if active
    const closeGameModal = () => {
      // Exit fullscreen if active
      if (document.fullscreenElement) {
        document.exitFullscreen();
      }
      gameModal.classList.add('hidden');
      gameIframe.src = ''; // Clear the iframe to stop the game
    };
    
    // Function to toggle fullscreen for the iframe
    const toggleFullscreen = () => {
      if (!document.fullscreenElement) {
        gameIframe.requestFullscreen().catch(err => {
          // Display a message if fullscreen fails (e.g., due to user gestures)
          console.error(`Error attempting to enable full-screen mode: ${err.message} (${err.name})`);
        });
      } else {
        document.exitFullscreen();
      }
    };

    // Observer for section header animation
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate');
            } else {
                entry.target.classList.remove('animate');
            }
        });
    }, { threshold: 0.5 }); // Trigger when 50% of the header is visible

    // Event Listeners
    document.addEventListener('DOMContentLoaded', () => {
      renderGames();
      
      // Initial theme state setup (reads from body.dark class)
      isDarkMode = body.classList.contains('dark');
      if (isDarkMode) {
        sunIcon.style.display = 'none';
        moonIcon.style.display = 'block';
      } else {
        sunIcon.style.display = 'block';
        moonIcon.style.display = 'none';
      }
      
      // Attach observer to headers
      observer.observe(toolsHeader);
      observer.observe(gamesHeader);
    });

    themeToggle.addEventListener('click', toggleDarkMode);

    // Event listener on the main content area to handle clicks for both grids
    document.querySelector('main').addEventListener('click', (event) => {
      const card = event.target.closest('[data-id]');
      if (!card) return;
      
      const gameId = card.dataset.id;
      const selectedGame = games.find(game => game.id == gameId);
      if (selectedGame) {
        openGameModal(selectedGame);
      }
    });

    modalCloseBtn.addEventListener('click', closeGameModal);
    modalExitTextBtn.addEventListener('click', closeGameModal);
    fullscreenBtn.addEventListener('click', toggleFullscreen);

    // Add ripple effect listeners to buttons
    [fullscreenBtn, modalExitTextBtn].forEach(button => {
        button.addEventListener('mousedown', (e) => {
            const rect = button.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            const ripple = button.querySelector('::after');
            if(ripple) {
                // This is a bit tricky with pseudo-elements, so we use the CSS `:active` approach for simplicity
                // but for completeness, a JS-managed element is better for true ripple.
                // Since we're using the pure CSS method from the user's input, we'll rely on the :active pseudo-class.
            }
        });
    });

  </script>

</body>
</html>

</body>

<style>

</style>

<script>

</script></html>
