<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Word List | English 1 Games</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Fredoka', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        brand: {
                            pink: '#EC4899',
                            orange: '#F97316',
                            green: '#22C55E',
                            blue: '#3B82F6',
                            dark: '#0f172a'
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #020617; /* Slate 950 */
            color: #e2e8f0;
            overflow-x: hidden;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.05); 
        }
        ::-webkit-scrollbar-thumb {
            background: #334155; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }

        .blob {
            position: absolute;
            filter: blur(90px);
            z-index: -1;
            opacity: 0.4;
            animation: float 20s infinite ease-in-out;
        }
        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        
        .list-enter {
            animation: slideUp 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        @keyframes slideUp {
            to { opacity: 1; transform: translateY(0); }
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.7); 
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Range Slider Styling */
        input[type=range] {
            -webkit-appearance: none; 
            background: transparent; 
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            border-radius: 50%;
            background: #3B82F6;
            margin-top: -6px;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #334155;
            border-radius: 2px;
        }
    </style>
</head>
<body class="min-h-screen relative selection:bg-brand-pink selection:text-white">

    <!-- Ambient Background -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="blob bg-brand-pink w-96 h-96 rounded-full top-0 left-0 -translate-x-1/4 -translate-y-1/4 opacity-20"></div>
        <div class="blob bg-brand-blue w-[500px] h-[500px] rounded-full bottom-0 right-0 translate-x-1/4 translate-y-1/4 opacity-20 animation-delay-2000"></div>
        <div class="blob bg-brand-orange w-64 h-64 rounded-full top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-20 delay-1000"></div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 h-16 bg-slate-950/80 backdrop-blur-md border-b border-white/10 z-50 flex items-center justify-between px-6 shadow-sm">
        <div class="flex items-center gap-3">
            <a href="../index.html" class="w-8 h-8 rounded-xl bg-slate-800 flex items-center justify-center text-slate-400 hover:bg-brand-blue hover:text-white transition-colors duration-300">
                <i class="fas fa-arrow-left"></i>
            </a>
            <h1 class="text-xl font-bold text-white tracking-tight">
                English 1 <span class="bg-gradient-to-r from-brand-pink via-brand-orange to-brand-blue bg-clip-text text-transparent">Games</span>
            </h1>
        </div>
        <div class="hidden md:flex items-center text-sm font-medium text-slate-400 bg-slate-900 border border-slate-800 px-3 py-1 rounded-full">
            <i class="fas fa-list-ol mr-2 text-brand-orange"></i> Multi-List Generator
        </div>
    </nav>

    <!-- Main Content -->
    <div class="pt-20 pb-6 px-4 md:px-6 h-screen flex flex-col md:flex-row gap-6 max-w-7xl mx-auto">
        
        <!-- LEFT PANEL: Configuration -->
        <div class="w-full md:w-1/3 flex flex-col gap-4 animate-fade-in-up">
            <div class="bg-slate-900 rounded-3xl p-1 shadow-2xl flex-grow flex flex-col overflow-hidden border border-slate-800 ring-1 ring-white/10">
                <div class="bg-slate-950 px-4 py-3 flex items-center justify-between rounded-t-[20px] border-b border-slate-800">
                    <div class="flex gap-2">
                        <div class="w-3 h-3 rounded-full bg-red-500/80"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-500/80"></div>
                        <div class="w-3 h-3 rounded-full bg-green-500/80"></div>
                    </div>
                    <div class="text-xs font-mono text-slate-500"><i class="fas fa-cog"></i> config</div>
                </div>

                <div class="flex-grow p-4 flex flex-col bg-slate-900/50">
                    <div class="text-slate-500 font-mono text-xs mb-2"># Source Pool (One word per line)</div>
                    <textarea id="wordInput" 
                        class="w-full h-full bg-transparent text-emerald-400 font-mono text-sm focus:outline-none resize-none custom-scroll placeholder-slate-700 p-2"
                        placeholder="// Paste all your words here...&#10;Apple&#10;Banana&#10;Cherry&#10;Date&#10;Elderberry&#10;Fig&#10;Grape"
                        spellcheck="false"></textarea>
                    
                    <div class="mt-2 text-right">
                         <span id="poolCount" class="text-xs font-mono text-brand-green bg-slate-950 px-2 py-1 rounded">0 words in pool</span>
                    </div>
                </div>

                <div class="bg-slate-950 p-5 border-t border-slate-800 space-y-5">
                    
                    <!-- Slider 1: How many lists? -->
                    <div>
                        <label class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex justify-between items-center">
                            <span>Number of Lists</span>
                            <span id="listCountValue" class="bg-brand-pink/20 text-brand-pink px-2 py-0.5 rounded text-xs font-mono">4</span>
                        </label>
                        <input type="range" id="listCountRange" min="1" max="10" value="4" 
                            class="w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-brand-pink">
                    </div>

                    <!-- Slider 2: Words per list? -->
                    <div>
                        <label class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex justify-between items-center">
                            <span>Words per List</span>
                            <span id="wordsPerListValue" class="bg-brand-blue/20 text-brand-blue px-2 py-0.5 rounded text-xs font-mono">10</span>
                        </label>
                        <input type="range" id="wordsPerListRange" min="1" max="30" value="10" 
                            class="w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-brand-blue">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-3 pt-2">
                        <button onclick="clearConsole()" class="py-3 px-4 rounded-xl border border-slate-700 bg-slate-900 text-slate-400 hover:bg-slate-800 hover:text-white transition font-mono text-sm font-bold flex items-center justify-center gap-2">
                            <i class="fas fa-trash-alt"></i> RESET
                        </button>
                        <button onclick="generateLists()" class="py-3 px-4 rounded-xl bg-gradient-to-r from-brand-blue to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white shadow-lg shadow-blue-900/20 transition transform active:scale-95 font-mono text-sm font-bold flex items-center justify-center gap-2 group">
                            <i class="fas fa-play text-xs group-hover:animate-pulse"></i> GENERATE
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- RIGHT PANEL: Output -->
        <div class="w-full md:w-2/3 glass-panel rounded-3xl shadow-2xl flex flex-col overflow-hidden relative">
            <div class="h-16 px-6 flex items-center justify-between border-b border-white/5 bg-slate-900/30">
                <h2 class="text-lg font-bold text-white flex items-center gap-2">
                    <i class="fas fa-layer-group text-brand-orange"></i> 
                    Generated Lists
                </h2>
                <!-- Copy All Button -->
                <button onclick="copyAllLists()" class="w-9 h-9 rounded-lg bg-slate-800/50 hover:bg-slate-800 border border-white/5 hover:border-white/10 flex items-center justify-center text-slate-400 hover:text-brand-blue transition" title="Copy All Lists">
                    <i class="fas fa-copy"></i>
                </button>
            </div>

            <!-- Empty State -->
            <div id="emptyState" class="absolute inset-0 flex flex-col items-center justify-center z-10 bg-slate-900/20 backdrop-blur-[2px]">
                <div class="w-24 h-24 bg-slate-800/50 rounded-full border border-white/10 flex items-center justify-center mb-4 animate-pulse-slow">
                    <i class="fas fa-boxes text-4xl text-slate-600"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">No Lists Generated</h3>
                <p class="text-slate-500 text-sm">Configure settings and click Generate</p>
            </div>

            <!-- Results Grid -->
            <div id="resultsArea" class="flex-grow p-6 overflow-y-auto custom-scroll relative z-20 hidden">
                <div id="listsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 pb-10">
                    <!-- Lists injected here -->
                </div>
            </div>
            
            <div class="bg-slate-950/30 h-10 border-t border-white/5 px-6 flex items-center justify-between text-xs text-slate-500 font-mono">
                <span id="resultStats">Ready</span>
                <span>v2.1 Multi-List</span>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="fixed top-24 right-6 bg-slate-800 border border-slate-700 shadow-2xl rounded-xl p-4 flex items-center gap-3 transform translate-x-full transition-transform duration-300 z-[60]">
        <div id="toastIcon" class="w-8 h-8 rounded-full bg-brand-green/20 flex items-center justify-center text-brand-green">
            <i class="fas fa-check"></i>
        </div>
        <div>
            <h4 class="text-sm font-bold text-white" id="toastTitle">Success</h4>
            <p class="text-xs text-slate-400" id="toastMessage">Action completed.</p>
        </div>
    </div>

    <script>
        // DOM Elements
        const wordInput = document.getElementById('wordInput');
        const listCountRange = document.getElementById('listCountRange');
        const listCountValue = document.getElementById('listCountValue');
        const wordsPerListRange = document.getElementById('wordsPerListRange');
        const wordsPerListValue = document.getElementById('wordsPerListValue');
        const poolCount = document.getElementById('poolCount');
        
        const emptyState = document.getElementById('emptyState');
        const resultsArea = document.getElementById('resultsArea');
        const listsGrid = document.getElementById('listsGrid');
        const resultStats = document.getElementById('resultStats');

        // Colors for List Headers
        const colors = [
            { border: 'border-pink-500', text: 'text-pink-400', bg: 'bg-pink-500/10' },
            { border: 'border-orange-500', text: 'text-orange-400', bg: 'bg-orange-500/10' },
            { border: 'border-green-500', text: 'text-green-400', bg: 'bg-green-500/10' },
            { border: 'border-blue-500', text: 'text-blue-400', bg: 'bg-blue-500/10' }
        ];

        // Listeners
        wordInput.addEventListener('input', updatePoolCount);
        listCountRange.addEventListener('input', (e) => listCountValue.textContent = e.target.value);
        wordsPerListRange.addEventListener('input', (e) => wordsPerListValue.textContent = e.target.value);

        function updatePoolCount() {
            const text = wordInput.value;
            const lines = text.split(/[\n,]/).filter(l => l.trim().length > 0);
            poolCount.textContent = `${lines.length} words in pool`;
        }

        function clearConsole() {
            wordInput.value = '';
            updatePoolCount();
            wordInput.focus();
            showToast('Reset', 'Input cleared');
        }

        function generateLists() {
            const text = wordInput.value;
            let pool = text.split(/[\n,]/).map(w => w.trim()).filter(w => w.length > 0);
            pool = [...new Set(pool)]; // Remove duplicates from source

            if (pool.length === 0) {
                showToast('Error', 'Source pool is empty!', true);
                return;
            }

            const numberOfLists = parseInt(listCountRange.value);
            const wordsPerList = parseInt(wordsPerListRange.value);

            // Clear previous results
            listsGrid.innerHTML = '';
            
            // Generate Lists
            for (let i = 0; i < numberOfLists; i++) {
                // Shuffle a copy of the pool for each list to ensure randomness
                // This allows duplicates ACROSS lists (which is usually desired for equal difficulty), 
                // but no duplicates WITHIN a list.
                let listPool = [...pool]; 
                
                // Shuffle Logic
                for (let k = listPool.length - 1; k > 0; k--) {
                    const j = Math.floor(Math.random() * (k + 1));
                    [listPool[k], listPool[j]] = [listPool[j], listPool[k]];
                }

                // Slice
                const selectedWords = listPool.slice(0, wordsPerList);
                
                createListCard(i, selectedWords);
            }

            emptyState.style.display = 'none';
            resultsArea.classList.remove('hidden');
            resultStats.textContent = `Generated ${numberOfLists} lists of ${wordsPerList} words`;
            showToast('Success', 'Lists generated successfully');
        }

        function createListCard(index, words) {
            const color = colors[index % colors.length];
            const card = document.createElement('div');
            
            card.className = `bg-slate-900 border ${color.border} rounded-2xl overflow-hidden flex flex-col shadow-lg hover:shadow-xl transition-all list-enter relative group`;
            card.style.animationDelay = `${index * 100}ms`;

            // Card Header
            const header = document.createElement('div');
            header.className = `${color.bg} p-4 border-b border-slate-800 flex justify-between items-center`;
            header.innerHTML = `
                <h3 class="font-bold ${color.text} uppercase tracking-wider text-sm">List ${index + 1}</h3>
                <button onclick="copySingleList(this)" class="text-slate-500 hover:text-white transition" title="Copy this list">
                    <i class="fas fa-copy"></i>
                </button>
            `;
            
            // List Content
            const content = document.createElement('div');
            content.className = "p-4 flex-grow";
            
            const ul = document.createElement('ul');
            ul.className = "space-y-2 text-sm text-slate-300 font-mono";
            
            words.forEach((w, i) => {
                const li = document.createElement('li');
                li.className = "flex items-start gap-2 border-b border-slate-800/50 pb-1 last:border-0";
                li.innerHTML = `<span class="text-slate-600 select-none w-5 text-right">${i + 1}.</span> <span class="word-text">${w}</span>`;
                ul.appendChild(li);
            });

            content.appendChild(ul);
            card.appendChild(header);
            card.appendChild(content);
            
            // Hidden text area for simpler copying logic if needed, 
            // but we'll extract text dynamically to be cleaner.
            
            listsGrid.appendChild(card);
        }

        function copySingleList(btn) {
            const card = btn.closest('div').parentElement; // Traverse up to main card container
            const words = Array.from(card.querySelectorAll('.word-text')).map(span => span.textContent);
            const text = words.join('\n');
            
            copyToClipboard(text, 'List copied!');
        }

        function copyAllLists() {
            const lists = document.querySelectorAll('#listsGrid > div');
            if (lists.length === 0) return;

            let fullText = "";
            lists.forEach((card, index) => {
                const words = Array.from(card.querySelectorAll('.word-text')).map(span => span.textContent);
                fullText += `--- LIST ${index + 1} ---\n` + words.join('\n') + '\n\n';
            });

            copyToClipboard(fullText, 'All lists copied!');
        }

        function copyToClipboard(text, successMsg) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(() => showToast('Copied', successMsg));
            } else {
                const ta = document.createElement('textarea');
                ta.value = text;
                document.body.appendChild(ta);
                ta.select();
                document.execCommand('copy');
                document.body.removeChild(ta);
                showToast('Copied', successMsg);
            }
        }

        function showToast(title, message, isError = false) {
            const toast = document.getElementById('toast');
            document.getElementById('toastTitle').textContent = title;
            document.getElementById('toastMessage').textContent = message;
            
            const iconContainer = document.getElementById('toastIcon');
            const icon = iconContainer.querySelector('i');
            
            if (isError) {
                iconContainer.className = 'w-8 h-8 rounded-full bg-red-500/20 flex items-center justify-center text-red-500';
                icon.className = 'fas fa-exclamation';
            } else {
                iconContainer.className = 'w-8 h-8 rounded-full bg-brand-green/20 flex items-center justify-center text-brand-green';
                icon.className = 'fas fa-check';
            }

            toast.classList.remove('translate-x-full');
            if (window.toastTimeout) clearTimeout(window.toastTimeout);
            window.toastTimeout = setTimeout(() => {
                toast.classList.add('translate-x-full');
            }, 3000);
        }
    </script>
</body>
</html>