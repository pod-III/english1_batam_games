<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word List Randomizer - Game Hub</title>
    
    <!-- Fonts: Bebas Neue (Headings), Nunito (Body) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        pink: '#FF6B95',
                        orange: '#FF8C42',
                        green: '#00E676',
                        blue: '#2979FF',
                        dark: '#0f172a',
                        panel: '#1e293b',
                        surface: '#334155'
                    },
                    fontFamily: {
                        heading: ['Bebas Neue', 'sans-serif'],
                        body: ['Nunito', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'pop': 'pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        pop: {
                            '0%': { transform: 'scale(0.95)', opacity: '0' },
                            '100%': { transform: 'scale(1)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #f0f4f8;
            transition: background-color 0.5s, color 0.3s;
        }
        
        html.dark body {
            background-color: #0f172a;
            color: #f8fafc;
        }

        /* Custom Scrollbar for Textarea */
        textarea::-webkit-scrollbar {
            width: 8px;
        }
        textarea::-webkit-scrollbar-track {
            background: transparent;
        }
        textarea::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 4px;
        }
        .dark textarea::-webkit-scrollbar-thumb {
            background-color: #475569;
        }

        /* Header Colors */
        .header-pink { background-color: #FF6B95; }
        .header-orange { background-color: #FF8C42; }
        .header-green { background-color: #00E676; }
        .header-blue { background-color: #2979FF; }
        .header-dark-pink { background-color: #e91e63; }
        .header-dark-orange { background-color: #ff5722; }
        .header-dark-green { background-color: #00c853; }
        .header-dark-blue { background-color: #2962ff; }

        /* Button Gradient Hover Effects */
        .btn-gradient {
            background-size: 200% auto;
            transition: 0.5s;
        }
        .btn-gradient:hover {
            background-position: right center;
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8 flex flex-col items-center">

    <!-- Theme Toggle (Absolute Top Right) -->
    <button id="theme-toggle" class="fixed top-4 right-4 p-3 rounded-full bg-white/50 dark:bg-black/20 hover:bg-white dark:hover:bg-white/10 transition-all backdrop-blur-sm z-50 text-gray-600 dark:text-yellow-400 shadow-sm">
        <i data-lucide="sun" id="sun-icon" class="w-6 h-6 hidden"></i>
        <i data-lucide="moon" id="moon-icon" class="w-6 h-6 hidden"></i>
    </button>

    <!-- Main Container -->
    <div class="w-full max-w-6xl animate-fade-in">
        
        <!-- Header Section -->
        <header class="text-center mb-8 relative">
            <h1 class="text-5xl md:text-6xl font-heading tracking-wider bg-clip-text text-transparent bg-gradient-to-r from-blue via-pink to-orange inline-block pb-2">
                RANDOMIZER
            </h1>
            <p class="text-gray-600 dark:text-gray-400 text-lg font-medium">
                Generate shuffled word lists for your class instantly.
            </p>
        </header>

        <!-- Control Panel Card -->
        <div class="bg-white dark:bg-panel rounded-3xl shadow-xl shadow-blue/5 border border-surface/20 p-6 md:p-8 mb-8 relative overflow-hidden">
            <!-- Decorative Background Blob -->
            <div class="absolute -top-24 -right-24 w-64 h-64 bg-pink/5 rounded-full blur-3xl pointer-events-none"></div>
            <div class="absolute -bottom-24 -left-24 w-64 h-64 bg-blue/5 rounded-full blur-3xl pointer-events-none"></div>

            <div class="relative z-10 grid grid-cols-1 lg:grid-cols-12 gap-8">
                
                <!-- Left Column: Inputs -->
                <div class="lg:col-span-8 flex flex-col gap-6">
                    
                    <!-- Presets & Label -->
                    <div class="flex flex-wrap justify-between items-end gap-2">
                        <label for="wordInput" class="text-xl font-heading tracking-wide text-gray-700 dark:text-gray-200 flex items-center gap-2">
                            <i data-lucide="list" class="w-5 h-5 text-pink"></i> WORD BANK
                        </label>
                        
                        <!-- Presets Dropdown -->
                        <div class="relative group">
                            <button class="flex items-center gap-2 px-4 py-1.5 bg-blue/10 dark:bg-blue/20 text-blue hover:bg-blue hover:text-white rounded-lg text-sm font-bold transition-colors">
                                <i data-lucide="book-open" class="w-4 h-4"></i> LOAD PRESET
                            </button>
                            <!-- Dropdown Menu -->
                            <div class="absolute right-0 mt-2 w-48 bg-white dark:bg-surface rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-20 overflow-hidden transform origin-top-right">
                                <div class="py-1">
                                    <button onclick="loadPreset('verbs')" class="w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-black/20 text-gray-700 dark:text-gray-200 text-sm">Action Verbs</button>
                                    <button onclick="loadPreset('adjectives')" class="w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-black/20 text-gray-700 dark:text-gray-200 text-sm">Adjectives</button>
                                    <button onclick="loadPreset('animals')" class="w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-black/20 text-gray-700 dark:text-gray-200 text-sm">Animals</button>
                                    <button onclick="loadPreset('fruits')" class="w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-black/20 text-gray-700 dark:text-gray-200 text-sm">Fruits & Veg</button>
                                    <button onclick="loadPreset('classroom')" class="w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-black/20 text-gray-700 dark:text-gray-200 text-sm">Classroom Objects</button>
                                    <button onclick="loadPreset('colors')" class="w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-black/20 text-gray-700 dark:text-gray-200 text-sm">Colors</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Text Area -->
                    <div class="relative group">
                        <textarea
                            id="wordInput"
                            rows="5"
                            placeholder="Enter words separated by commas (e.g. apple, banana, cherry)..."
                            class="w-full p-4 bg-gray-50 dark:bg-black/20 border-2 border-gray-200 dark:border-surface/50 rounded-xl focus:ring-4 focus:ring-pink/20 focus:border-pink transition-all duration-300 resize-none text-lg text-gray-700 dark:text-gray-200 shadow-inner"
                        ></textarea>
                        <!-- Clear Button inside textarea -->
                        <button onclick="clearInput()" class="absolute top-3 right-3 p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors" title="Clear Text">
                            <i data-lucide="trash-2" class="w-4 h-4"></i>
                        </button>
                    </div>
                </div>

                <!-- Right Column: Settings & Actions -->
                <div class="lg:col-span-4 flex flex-col justify-between gap-6">
                    
                    <!-- Settings -->
                    <div>
                        <label for="listCount" class="text-xl font-heading tracking-wide text-gray-700 dark:text-gray-200 flex items-center gap-2 mb-3">
                            <i data-lucide="hash" class="w-5 h-5 text-orange"></i> LIST COUNT
                        </label>
                        <div class="relative">
                            <input
                                type="number"
                                id="listCount"
                                value="4"
                                min="1"
                                max="12"
                                class="w-full p-4 bg-gray-50 dark:bg-black/20 border-2 border-gray-200 dark:border-surface/50 rounded-xl focus:ring-4 focus:ring-orange/20 focus:border-orange transition-all duration-300 text-2xl font-bold text-center text-gray-700 dark:text-gray-200"
                            />
                            <div class="absolute right-4 top-1/2 -translate-y-1/2 flex flex-col gap-1">
                                <button onclick="adjustCount(1)" class="text-gray-400 hover:text-green"><i data-lucide="chevron-up" class="w-4 h-4"></i></button>
                                <button onclick="adjustCount(-1)" class="text-gray-400 hover:text-red-500"><i data-lucide="chevron-down" class="w-4 h-4"></i></button>
                            </div>
                        </div>
                    </div>

                    <!-- Generate Button -->
                    <button
                        id="generateButton"
                        class="w-full py-4 bg-gradient-to-r from-blue via-purple-500 to-pink btn-gradient text-white font-bold text-xl rounded-xl shadow-lg shadow-blue/30 hover:shadow-xl hover:shadow-pink/30 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 group"
                    >
                        <i data-lucide="shuffle" class="w-6 h-6 group-hover:rotate-180 transition-transform duration-500"></i>
                        GENERATE
                    </button>
                </div>
            </div>
        </div>

        <!-- Toolbar (Copy / Actions) - Only shows when lists exist -->
        <div id="actionToolbar" class="hidden mb-6 flex justify-end animate-fade-in">
            <button
                onclick="copyAllLists()"
                class="px-6 py-2.5 bg-white dark:bg-surface border border-gray-200 dark:border-gray-600 rounded-xl shadow-sm hover:shadow-md hover:bg-gray-50 dark:hover:bg-surface/80 transition-all flex items-center gap-2 text-gray-700 dark:text-white font-semibold"
            >
                <i data-lucide="copy" class="w-4 h-4"></i> Copy All Lists
            </button>
        </div>

        <!-- Results Grid -->
        <div id="resultsContainer" class="pb-20">
            <div id="listsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Empty State Placeholder -->
                <div class="col-span-1 sm:col-span-2 lg:col-span-4 text-center py-20 opacity-50 border-2 border-dashed border-gray-300 dark:border-surface rounded-2xl">
                    <i data-lucide="ghost" class="w-16 h-16 mx-auto mb-4 text-gray-400"></i>
                    <p class="text-xl font-heading text-gray-500">Lists will appear here</p>
                </div>
            </div>
        </div>

    </div>

    <!-- Javascript -->
    <script>
        // --- State & Config ---
        const presets = {
            verbs: "run, jump, swim, fly, read, write, sing, dance, play, sleep, eat, drink, walk, talk, listen, watch",
            adjectives: "happy, sad, big, small, fast, slow, hot, cold, hungry, thirsty, loud, quiet, strong, weak, tall, short",
            animals: "lion, tiger, elephant, giraffe, monkey, zebra, bear, wolf, fox, rabbit, cat, dog, bird, snake, fish, shark",
            fruits: "apple, banana, orange, grape, strawberry, watermelon, pineapple, mango, cherry, pear, peach, lemon, lime, kiwi",
            classroom: "pencil, pen, eraser, ruler, notebook, book, backpack, desk, chair, whiteboard, marker, computer, scissors, glue",
            colors: "red, orange, yellow, green, blue, purple, pink, black, white, brown, grey, silver, gold, indigo, violet"
        };

        const colors = [
            'header-pink', 'header-orange', 'header-green', 'header-blue',
            'header-dark-pink', 'header-dark-orange', 'header-dark-green', 'header-dark-blue'
        ];

        // --- DOM Elements ---
        const wordInput = document.getElementById('wordInput');
        const listCountInput = document.getElementById('listCount');
        const listsGrid = document.getElementById('listsGrid');
        const actionToolbar = document.getElementById('actionToolbar');

        // --- Functions ---

        function loadPreset(key) {
            if (presets[key]) {
                wordInput.value = presets[key];
                showToast(`Loaded ${key} preset!`);
                // Optional: visual feedback on textarea
                wordInput.focus();
            }
        }

        function clearInput() {
            wordInput.value = '';
            wordInput.focus();
        }

        function adjustCount(delta) {
            let current = parseInt(listCountInput.value) || 4;
            let newVal = current + delta;
            if (newVal < 1) newVal = 1;
            if (newVal > 12) newVal = 12;
            listCountInput.value = newVal;
        }

        function shuffleArray(array) {
            let newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function generateLists() {
            const text = wordInput.value.trim();
            if (!text) {
                showToast("Please enter words or load a preset!", true);
                return;
            }

            // Split by comma or newline
            const words = text.split(/[\n,]+/).map(w => w.trim()).filter(w => w.length > 0);

            if (words.length < 2) {
                showToast("Need at least 2 words.", true);
                return;
            }

            const count = Math.min(Math.max(parseInt(listCountInput.value) || 1, 1), 12);
            
            // Clear and Show
            listsGrid.innerHTML = '';
            actionToolbar.classList.remove('hidden');

            // Responsive Columns Logic
            let gridClass = 'lg:grid-cols-4';
            if (count === 1) gridClass = 'lg:grid-cols-1 max-w-md mx-auto';
            else if (count === 2) gridClass = 'lg:grid-cols-2';
            else if (count === 3) gridClass = 'lg:grid-cols-3';
            
            listsGrid.className = `grid grid-cols-1 sm:grid-cols-2 ${gridClass} gap-6`;

            // Render Cards
            for (let i = 0; i < count; i++) {
                const shuffled = shuffleArray(words);
                const colorClass = colors[i % colors.length];
                const delay = i * 50; // Staggered animation

                const cardHTML = `
                    <div class="list-card bg-white dark:bg-panel rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-surface/50 animate-pop" style="animation-delay: ${delay}ms">
                        <div class="${colorClass} p-3 text-center relative overflow-hidden">
                            <div class="absolute inset-0 bg-white/10 opacity-0 hover:opacity-100 transition-opacity"></div>
                            <h3 class="text-white font-heading text-2xl tracking-wider shadow-sm">LIST ${i + 1}</h3>
                        </div>
                        <ol class="p-5 list-decimal list-inside text-gray-700 dark:text-gray-300 space-y-1.5 font-medium">
                            ${shuffled.map(w => `<li class="pl-1 border-b border-gray-50 dark:border-surface/30 last:border-0 pb-1">${w}</li>`).join('')}
                        </ol>
                    </div>
                `;
                listsGrid.insertAdjacentHTML('beforeend', cardHTML);
            }

            showToast(`${count} unique lists generated!`);
        }

        async function copyAllLists() {
            if (!listsGrid.children.length || listsGrid.children[0].classList.contains('text-center')) return;

            let output = "";
            const cards = listsGrid.querySelectorAll('.list-card');
            
            cards.forEach((card, idx) => {
                output += `--- LIST ${idx + 1} ---\n`;
                const items = card.querySelectorAll('li');
                items.forEach((li, liIdx) => {
                    output += `${liIdx + 1}. ${li.innerText}\n`;
                });
                output += "\n";
            });

            try {
                await navigator.clipboard.writeText(output);
                showToast("All lists copied to clipboard!");
            } catch (err) {
                showToast("Failed to copy automatically.", true);
            }
        }

        // --- Toast Logic ---
        function showToast(msg, isError = false) {
            const existing = document.querySelector('.toast');
            if (existing) existing.remove();

            const toast = document.createElement('div');
            toast.className = `toast fixed bottom-6 left-1/2 -translate-x-1/2 px-6 py-3 rounded-full font-bold text-white shadow-2xl z-50 animate-fade-in ${isError ? 'bg-red-500' : 'bg-gray-800 dark:bg-white dark:text-gray-900'}`;
            toast.innerText = msg;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translate(-50%, 20px)';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // --- Theme Logic ---
        const html = document.documentElement;
        const toggleBtn = document.getElementById('theme-toggle');
        
        function initTheme() {
            const saved = localStorage.getItem('theme');
            if (saved === 'dark' || (!saved && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                html.classList.add('dark');
            }
            updateIcons();
        }

        function toggleTheme() {
            html.classList.toggle('dark');
            localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
            updateIcons();
        }

        function updateIcons() {
            const isDark = html.classList.contains('dark');
            document.getElementById('sun-icon').classList.toggle('hidden', !isDark);
            document.getElementById('moon-icon').classList.toggle('hidden', isDark);
        }

        // --- Init ---
        toggleBtn.addEventListener('click', toggleTheme);
        document.getElementById('generateButton').addEventListener('click', generateLists);
        
        initTheme();
        lucide.createIcons();
    </script>
</body>
</html>