<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word and Sentence Scrambler</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter and Montserrat Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .scrambled-text {
            word-wrap: break-word;
            white-space: pre-wrap;
            min-height: 150px;
        }
    </style>
</head>
<body class="bg-slate-100 flex justify-center items-center min-h-screen p-4 text-slate-800">
    
    <div class="bg-white p-8 rounded-3xl shadow-xl border border-slate-200 w-full max-w-2xl text-center transition-all duration-300">
        <h1 class="font-['Montserrat'] text-4xl font-bold text-blue-700 mb-2">Word & Sentence Scrambler</h1>
        <p class="text-slate-500 mb-6">Enter a word or a sentence below to scramble its letters.</p>
        
        <!-- Input Textarea -->
        <textarea id="text-input" 
                  class="w-full p-4 border-2 border-blue-400 rounded-2xl resize-y min-h-[150px] text-lg transition-colors duration-200 focus:outline-none focus:border-blue-600 mb-4"
                  placeholder="Type a word or sentence, separated by commas..."></textarea>

        <!-- Scramble Button -->
        <button id="scramble-btn" 
                class="bg-gradient-to-r from-blue-600 to-blue-800 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all duration-300 uppercase hover:shadow-xl hover:-translate-y-1">
            Scramble Text
        </button>
        
        <!-- Scrambled Output -->
        <div class="mt-8 p-4 bg-slate-50 border border-slate-200 rounded-2xl text-left">
            <h2 class="font-['Montserrat'] text-2xl font-bold text-blue-700 mb-2">Scrambled Result:</h2>
            <pre id="scrambled-output" class="scrambled-text text-lg text-slate-700 p-2"></pre>
        </div>
    </div>

    <script>
        // Get references to DOM elements
        const textInput = document.getElementById('text-input');
        const scrambleBtn = document.getElementById('scramble-btn');
        const scrambledOutput = document.getElementById('scrambled-output');

        // Function to scramble the letters of a single word
        function scrambleWord(word) {
            // Convert the word to an array of characters
            let charArray = word.split('');
            // Use a simple Fisher-Yates shuffle to reorder the letters
            for (let i = charArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [charArray[i], charArray[j]] = [charArray[j], charArray[i]];
            }
            // Join the characters back into a string
            return charArray.join('');
        }

        // Main function to handle the scrambling of the entire text
        function scrambleText() {
            const inputText = textInput.value;
            // Handle empty input
            if (inputText.trim() === '') {
                scrambledOutput.textContent = 'Please enter some text to scramble.';
                return;
            }

            // Split the input text into individual comma-separated items
            const items = inputText.split(',');

            // Scramble each item separately
            const scrambledItems = items.map(item => {
                const trimmedItem = item.trim();
                if (trimmedItem === '') {
                    return '';
                }

                // Split the item into words, preserving spaces and punctuation.
                const words = trimmedItem.split(/(\s+)/);
                
                // Scramble each word in the array
                const scrambledWords = words.map(word => {
                    // If the "word" is just whitespace, return it as is
                    if (word.trim() === '') {
                        return word;
                    }
                    
                    // Regular expression to identify trailing punctuation
                    const trailingPunctuationMatch = word.match(/([.,!?;:]+)$/);
                    let punctuation = '';
                    let wordWithoutPunctuation = word;
                    
                    if (trailingPunctuationMatch) {
                        punctuation = trailingPunctuationMatch[0];
                        wordWithoutPunctuation = word.slice(0, -punctuation.length);
                    }
                    
                    // Scramble the word and re-attach the punctuation
                    const scrambled = scrambleWord(wordWithoutPunctuation);
                    return scrambled + punctuation;
                });
                
                // Join the scrambled words back into a single item
                return scrambledWords.join('');
            });

            // Join the scrambled items back into a single string with commas and spaces
            scrambledOutput.textContent = scrambledItems.join(', ');
        }

        // Add event listener to the scramble button
        scrambleBtn.addEventListener('click', scrambleText);
        
        // Optional: Also trigger scrambling on 'Enter' key press in the textarea
        textInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter' && !event.shiftKey) { // Avoid scrambling on Shift+Enter
                event.preventDefault(); // Prevent new line from being added
                scrambleText();
            }
        });
    </script>
</body>
</html>
