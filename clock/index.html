<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English 1 Batam - Time Tools</title>
    
    <!-- Icons & Fonts -->
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Nunito:wght@400;600;800&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        pink: '#FF6B95',
                        orange: '#FF8C42',
                        green: '#00E676',
                        blue: '#2979FF',
                        dark: '#1e293b',
                        chalk: '#f8fafc',
                        surface: '#FFFFFF',
                        border: '#cbd5e1',
                    },
                    fontFamily: {
                        heading: ['Fredoka', 'sans-serif'],
                        body: ['Nunito', 'sans-serif'],
                        mono: ['Share Tech Mono', 'monospace'],
                    },
                    boxShadow: {
                        'hard': '4px 4px 0px 0px rgba(30, 41, 59, 1)',
                        'hard-sm': '2px 2px 0px 0px rgba(30, 41, 59, 1)',
                        'hard-lg': '6px 6px 0px 0px rgba(30, 41, 59, 1)',
                        'inner-hard': 'inset 3px 3px 0px 0px rgba(203, 213, 225, 0.5)',
                    }
                }
            }
        }
    </script>
  <link rel="stylesheet" href="./style.css">
</head>
<body class="h-screen w-screen overflow-hidden flex flex-row text-dark font-body bg-chalk">

    <!-- SIDEBAR (Fixed Width: 16rem / 256px) -->
    <aside class="w-64 h-full bg-white border-r-4 border-dark flex flex-col z-30 shadow-hard relative flex-shrink-0">
        <div class="p-6 border-b-4 border-dark bg-slate-50">
            <div class="flex items-center gap-3 mb-1">
                <div class="bg-blue w-10 h-10 rounded-lg border-2 border-dark flex items-center justify-center text-white shadow-hard-sm transform -rotate-3">
                    <i data-lucide="clock" class="w-6 h-6"></i>
                </div>
                <div>
                    <h1 class="text-2xl font-heading font-bold text-dark tracking-tight leading-none">TIME<span class="text-blue">TOOLS</span></h1>
                    <div class="text-[0.6rem] font-bold text-slate-400 uppercase tracking-widest">English 1 Batam</div>
                </div>
            </div>
        </div>

        <nav class="flex-1 p-4 flex flex-col gap-3 overflow-y-auto custom-scrollbar">
            <button onclick="switchTool('clock')" id="nav-clock" class="nav-item active w-full p-3 rounded-xl border-3 border-transparent hover:bg-slate-50 hover:border-slate-200 flex items-center gap-3 text-slate-500 font-bold">
                <i data-lucide="clock" class="w-5 h-5"></i> <span>Clock</span>
            </button>
            <button onclick="switchTool('stopwatch')" id="nav-stopwatch" class="nav-item w-full p-3 rounded-xl border-3 border-transparent hover:bg-slate-50 hover:border-slate-200 flex items-center gap-3 text-slate-500 font-bold">
                <i data-lucide="timer" class="w-5 h-5"></i> <span>Stopwatch</span>
            </button>
            <button onclick="switchTool('timer')" id="nav-timer" class="nav-item w-full p-3 rounded-xl border-3 border-transparent hover:bg-slate-50 hover:border-slate-200 flex items-center gap-3 text-slate-500 font-bold">
                <i data-lucide="hourglass" class="w-5 h-5"></i> <span>Timer</span>
            </button>
            <button onclick="switchTool('calendar')" id="nav-calendar" class="nav-item w-full p-3 rounded-xl border-3 border-transparent hover:bg-slate-50 hover:border-slate-200 flex items-center gap-3 text-slate-500 font-bold">
                <i data-lucide="calendar" class="w-5 h-5"></i> <span>Calendar</span>
            </button>
        </nav>

        <div class="p-4 border-t-4 border-dark bg-slate-50 text-center">
            <a href="#" class="text-xs font-bold text-slate-400 hover:text-blue flex items-center justify-center gap-2 uppercase tracking-wider">
                <i data-lucide="arrow-left" class="w-3 h-3"></i> Teacher's Dashboard
            </a>
        </div>
    </aside>

    <!-- MAIN CONTENT AREA -->
    <main class="flex-1 h-full relative overflow-hidden flex flex-col p-6 md:p-8">
        
        <!-- Tool Container -->
        <div class="flex-1 overflow-y-auto custom-scrollbar flex items-center justify-center">
            
            <!-- CLOCK SECTION -->
            <section id="tool-clock" class="w-full max-w-4xl transition-all duration-300">
                <div class="hub-card w-full p-10 flex flex-col items-center text-center bg-white relative overflow-hidden">
                    <!-- Decorative BG -->
                    <div class="absolute -top-12 -right-12 w-48 h-48 bg-blue/5 rounded-full blur-3xl"></div>
                    <div class="absolute -bottom-12 -left-12 w-48 h-48 bg-pink/5 rounded-full blur-3xl"></div>

                    <!-- Controls -->
                    <div class="absolute top-6 right-6 flex gap-2 z-20">
                        <button onclick="clockToggleFormat()" id="clock-btn-format" class="btn-chunky text-xs font-bold bg-white border-2 border-dark text-dark px-3 py-1.5 rounded-lg hover:bg-slate-50 shadow-hard-sm">12H</button>
                        <button onclick="clockToggleView()" id="clock-btn-view" class="btn-chunky text-xs font-bold bg-white border-2 border-dark text-dark px-3 py-1.5 rounded-lg hover:bg-slate-50 shadow-hard-sm">ANALOG</button>
                    </div>

                    <!-- Digital View -->
                    <div id="clock-digital" class="flex flex-col items-center w-full mt-6 transition-opacity duration-300">
                        <div class="bg-blue text-white font-heading font-bold px-6 py-2 rounded-full border-3 border-dark shadow-hard-sm mb-8 z-10 text-lg tracking-wider uppercase animate-float">
                            <span id="clock-date">LOADING...</span>
                        </div>

                        <div class="bg-slate-50 border-4 border-dark rounded-[2.5rem] p-12 shadow-inner-hard w-full flex items-center justify-center relative max-w-3xl">
                            <div class="relative z-10">
                                <div id="clock-time" class="font-mono text-[7rem] md:text-[8rem] leading-none text-dark font-bold tracking-tighter drop-shadow-sm">
                                    00:00
                                </div>
                            </div>
                            <!-- Seconds Badge -->
                            <div class="absolute top-6 right-6 bg-pink text-white font-mono text-2xl font-bold px-3 py-1 rounded-lg border-2 border-dark shadow-hard-sm rotate-6">
                                <span id="clock-sec-dig">00</span>
                            </div>
                            <!-- AM/PM Badge -->
                            <div id="clock-ampm" class="absolute bottom-6 right-6 bg-orange text-white font-heading font-bold text-xl px-3 py-1 rounded-lg border-2 border-dark shadow-hard-sm -rotate-3">
                                PM
                            </div>
                        </div>
                    </div>

                    <!-- Analog View (Hidden by Default) -->
                    <div id="clock-analog" class="hidden flex-col items-center justify-center py-4 transition-opacity duration-300 w-full">
                        <div class="bg-slate-50 p-8 rounded-[2.5rem] border-4 border-dark shadow-inner-hard mb-6">
                            <div class="relative w-[320px] h-[320px] rounded-full border-[8px] border-dark bg-white shadow-hard flex items-center justify-center">
                                <svg viewBox="0 0 100 100" class="w-full h-full">
                                    <g id="clock-face-markers"></g>
                                    <line id="hand-hour" x1="50" y1="50" x2="50" y2="28" stroke="#1e293b" stroke-width="4" stroke-linecap="round" />
                                    <line id="hand-min" x1="50" y1="50" x2="50" y2="18" stroke="#94a3b8" stroke-width="3" stroke-linecap="round" />
                                    <circle cx="50" cy="50" r="4" fill="#1e293b" />
                                    <line id="hand-sec" x1="50" y1="65" x2="50" y2="15" stroke="#FF6B95" stroke-width="2" stroke-linecap="round" />
                                    <circle cx="50" cy="50" r="2" fill="#FF6B95" />
                                </svg>
                            </div>
                        </div>
                        <div id="clock-date-analog" class="text-2xl font-heading text-dark font-bold bg-white px-8 py-3 border-3 border-dark rounded-xl shadow-hard">DATE</div>
                    </div>

                    <!-- Time Zone Marker (Integrated inside card) -->
                    <div class="mt-8 pt-6 border-t-2 border-slate-100 w-full flex justify-center opacity-80 hover:opacity-100 transition-opacity">
                         <div class="inline-flex items-center gap-2 px-4 py-2 bg-slate-50 rounded-lg text-slate-500">
                             <i data-lucide="map-pin" class="w-4 h-4 text-orange"></i>
                             <span class="text-sm font-bold">Batam, Indonesia (GMT+7)</span>
                         </div>
                    </div>
                </div>
            </section>

            <!-- STOPWATCH SECTION (RESIZED SMALLER) -->
            <section id="tool-stopwatch" class="hidden w-full max-w-2xl flex-col items-center">
                 <div class="hub-card w-full p-8 text-center bg-white flex flex-col items-center gap-6 relative overflow-hidden">
                    <!-- Title Row -->
                    <div class="w-full flex justify-between items-center border-b-2 border-slate-100 pb-3 z-10">
                        <h2 class="text-xl font-heading font-bold text-dark flex items-center gap-2">
                            <i data-lucide="timer" class="text-blue w-5 h-5"></i> STOPWATCH
                        </h2>
                        <div id="sw-indicator" class="w-3 h-3 rounded-full bg-slate-300"></div>
                    </div>

                    <!-- Visual Timer (Reduced from w-72 to w-56) -->
                    <div class="relative w-56 h-56 flex items-center justify-center z-10">
                        <svg class="absolute inset-0 w-full h-full -rotate-90 transform" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" fill="none" stroke="#f1f5f9" stroke-width="4"/>
                            <circle id="sw-ring" cx="50" cy="50" r="45" fill="none" stroke="#2979FF" stroke-width="4" stroke-dasharray="283" stroke-dashoffset="0" stroke-linecap="round" class="transition-all duration-75"/>
                        </svg>
                        <div class="relative z-10 flex flex-col items-center">
                            <!-- Font sizes reduced -->
                            <div id="sw-display" class="font-mono text-5xl font-bold text-dark tracking-tighter">00:00</div>
                            <div id="sw-ms" class="font-mono text-3xl font-bold text-slate-400">.00</div>
                        </div>
                    </div>

                    <!-- Controls (Buttons smaller) -->
                    <div class="flex items-center gap-4 w-full justify-center z-10">
                        <button onclick="swReset()" class="btn-chunky w-14 h-14 rounded-xl bg-white border-2 border-dark text-dark flex items-center justify-center hover:bg-red-50 shadow-hard" title="Reset">
                            <i data-lucide="rotate-ccw" class="w-5 h-5"></i>
                        </button>
                        <button onclick="swToggle()" id="sw-btn-main" class="btn-chunky w-20 h-20 rounded-2xl bg-blue border-3 border-dark text-white flex items-center justify-center shadow-hard-lg hover:bg-blue-600 transition-colors">
                            <i data-lucide="play" class="w-8 h-8 fill-current ml-1"></i>
                        </button>
                        <button onclick="swLap()" class="btn-chunky w-14 h-14 rounded-xl bg-white border-2 border-dark text-dark flex items-center justify-center hover:bg-green-50 shadow-hard" title="Lap">
                            <i data-lucide="flag" class="w-5 h-5"></i>
                        </button>
                    </div>

                    <!-- Laps Area (Height reduced) -->
                    <div class="w-full bg-slate-50 border-3 border-dark rounded-xl p-3 h-48 overflow-y-auto custom-scrollbar text-left shadow-inner-hard z-10">
                        <div id="sw-laps" class="space-y-2">
                            <div class="flex flex-col items-center justify-center h-full text-slate-400 gap-2 opacity-60">
                                <i data-lucide="ghost" class="w-6 h-6"></i>
                                <span class="text-xs font-bold">NO LAPS RECORDED</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- TIMER SECTION -->
            <section id="tool-timer" class="hidden w-full max-w-3xl flex-col items-center">
                <div id="timer-card" class="hub-card w-full p-10 text-center bg-white flex flex-col items-center gap-8 transition-colors duration-300">
                    
                    <!-- Mode Switcher -->
                    <div class="flex gap-2 p-1.5 bg-slate-100 border-2 border-slate-200 rounded-xl relative z-10">
                        <button onclick="timerSetMode('calm')" id="btn-mode-calm" class="px-6 py-2 rounded-lg text-sm font-bold uppercase transition-all flex items-center gap-2 border-2 border-transparent">
                            <i data-lucide="leaf" class="w-4 h-4"></i> Zen
                        </button>
                        <button onclick="timerSetMode('bomb')" id="btn-mode-bomb" class="px-6 py-2 rounded-lg text-sm font-bold uppercase transition-all flex items-center gap-2 border-2 border-transparent">
                            <i data-lucide="bomb" class="w-4 h-4"></i> Rush
                        </button>
                    </div>

                    <div class="relative w-full h-[400px] flex items-center justify-center">
                        
                        <!-- Calm Visual -->
                        <div id="timer-visual-zen" class="absolute inset-0 flex flex-col items-center justify-center transition-all duration-300">
                            <div class="relative w-72 h-72 flex items-center justify-center">
                                <svg class="absolute inset-0 w-full h-full -rotate-90 transform" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="45" fill="none" stroke="#f1f5f9" stroke-width="3"/>
                                    <circle id="timer-ring-zen" cx="50" cy="50" r="45" fill="none" stroke="#00E676" stroke-width="3" stroke-dasharray="283" stroke-dashoffset="0" stroke-linecap="round" class="transition-all duration-1000 ease-linear"/>
                                </svg>
                                <div class="relative flex items-center justify-center gap-1 z-10">
                                    <input type="number" id="t-min" value="05" class="w-32 text-center text-7xl font-mono font-bold bg-transparent focus:outline-none focus:text-blue placeholder-slate-300 p-0 text-dark selection:bg-blue selection:text-white" placeholder="00" onfocus="timerStop()">
                                    <span class="text-6xl font-black text-slate-300 -mt-4">:</span>
                                    <input type="number" id="t-sec" value="00" class="w-32 text-center text-7xl font-mono font-bold bg-transparent focus:outline-none focus:text-blue placeholder-slate-300 p-0 text-dark selection:bg-blue selection:text-white" placeholder="00" onfocus="timerStop()">
                                </div>
                            </div>
                            <p class="text-slate-400 font-bold text-sm tracking-widest mt-2 uppercase">Tap numbers to edit</p>
                        </div>

                        <!-- Bomb Visual -->
                        <div id="timer-visual-rush" class="absolute inset-0 flex flex-col items-center justify-center hidden opacity-0 transition-all duration-300">
                            <svg viewBox="0 0 200 200" class="w-72 h-72 overflow-visible drop-shadow-xl">
                                <circle cx="100" cy="120" r="60" fill="#1e293b" />
                                <circle cx="80" cy="100" r="15" fill="#334155" opacity="0.5" />
                                <rect x="88" y="45" width="24" height="25" fill="#334155" />
                                <!-- Fuse Path -->
                                <path d="M100,45 C100,10 140,0 170,20" fill="none" stroke="#94a3b8" stroke-width="6" stroke-linecap="round" />
                                <path id="timer-fuse-rush" d="M100,45 C100,10 140,0 170,20" fill="none" stroke="#FF8C42" stroke-width="6" stroke-linecap="round" stroke-dasharray="100" stroke-dashoffset="0" />
                                <!-- Spark -->
                                <circle id="timer-spark" cx="170" cy="20" r="8" fill="#fbbf24" class="animate-pulse shadow-[0_0_15px_#fbbf24]" />
                            </svg>
                            <div class="absolute -bottom-6 bg-white px-8 py-3 rounded-2xl border-4 border-dark text-4xl font-mono font-bold shadow-hard transform -rotate-1">
                                <span id="t-rush-display">05:00</span>
                            </div>
                        </div>
                    </div>

                    <!-- Controls -->
                    <div class="flex items-center gap-4 z-10 mt-4 w-full justify-center">
                        <div class="flex flex-col gap-2">
                            <button onclick="timerAdjust(60)" class="btn-chunky px-4 py-2 bg-white border-2 border-dark text-dark text-sm rounded-lg hover:bg-slate-50">+1m</button>
                            <button onclick="timerAdjust(-60)" class="btn-chunky px-4 py-2 bg-white border-2 border-dark text-dark text-sm rounded-lg hover:bg-slate-50">-1m</button>
                        </div>

                        <button onclick="timerToggle()" id="timer-btn-start" class="btn-chunky w-24 h-24 rounded-3xl bg-green border-4 border-dark text-white flex items-center justify-center mx-4 hover:scale-105 transition-transform shadow-hard-lg">
                            <i data-lucide="play" class="w-12 h-12 fill-current ml-1"></i>
                        </button>

                        <div class="flex flex-col gap-2">
                             <button onclick="timerAdjust(30)" class="btn-chunky px-4 py-2 bg-white border-2 border-dark text-dark text-sm rounded-lg hover:bg-slate-50">+30s</button>
                             <button onclick="timerReset()" class="btn-chunky px-4 py-2 bg-slate-200 border-2 border-dark text-dark text-sm rounded-lg hover:bg-red-100">RESET</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CALENDAR SECTION (Updated to max-w-xl) -->
            <section id="tool-calendar" class="hidden w-full max-w-xl flex-col items-center">
                <div class="hub-card w-full bg-white p-6 pb-8">
                    <div class="flex items-center justify-between mb-6">
                        <button onclick="calNav(-1)" class="btn-chunky w-10 h-10 flex items-center justify-center rounded-lg bg-white border-2 border-dark hover:bg-slate-50 shadow-hard-sm"><i data-lucide="chevron-left" class="w-5 h-5"></i></button>
                        <h2 id="cal-month-year" class="text-2xl font-heading font-bold text-dark text-center uppercase tracking-tight">MONTH YEAR</h2>
                        <button onclick="calNav(1)" class="btn-chunky w-10 h-10 flex items-center justify-center rounded-lg bg-white border-2 border-dark hover:bg-slate-50 shadow-hard-sm"><i data-lucide="chevron-right" class="w-5 h-5"></i></button>
                    </div>

                    <!-- Days Header -->
                    <div class="grid grid-cols-7 gap-2 mb-2 text-center">
                        <div class="text-xs font-black text-slate-400">MON</div>
                        <div class="text-xs font-black text-slate-400">TUE</div>
                        <div class="text-xs font-black text-slate-400">WED</div>
                        <div class="text-xs font-black text-slate-400">THU</div>
                        <div class="text-xs font-black text-slate-400">FRI</div>
                        <div class="text-xs font-black text-pink">SAT</div>
                        <div class="text-xs font-black text-pink">SUN</div>
                    </div>

                    <!-- Grid -->
                    <div id="cal-grid" class="grid grid-cols-7 gap-2 w-full">
                        <!-- JS injected -->
                    </div>
                    
                    <!-- Info Box -->
                    <div class="mt-6 flex justify-center">
                         <div id="cal-counter-display" class="text-xs font-bold text-slate-500 bg-slate-50 px-4 py-2 rounded-lg border-2 border-slate-200 shadow-sm flex items-center gap-3">
                            <i data-lucide="info" class="w-4 h-4"></i>
                            <span>Click date to count. <span class="text-blue bg-blue/10 px-1 rounded">Alt+Click</span> to mark.</span>
                         </div>
                    </div>
                </div>
            </section>
        </div>

    </main>

    <!-- RUSH/EXPLOSION OVERLAY -->
    <div id="explosion-overlay" class="fixed inset-0 z-50 hidden bg-white/95 items-center justify-center flex-col cursor-pointer transition-opacity opacity-0 backdrop-blur-sm" onclick="resetTimerOverlay()">
        <div class="shake-hard text-center">
            <h1 class="text-[8rem] font-heading font-black text-orange drop-shadow-hard mb-0 leading-none">BOOM!</h1>
            <p class="text-3xl font-bold text-dark mb-10 uppercase tracking-widest">Time Is Up!</p>
            <button class="btn-chunky px-8 py-4 bg-dark text-white rounded-2xl text-xl hover:scale-105 transition-transform shadow-hard-lg border-2 border-white">
                RESET TIMER
            </button>
        </div>
    </div>

    <!-- ZEN/CALM OVERLAY (New) -->
    <div id="zen-overlay" class="fixed inset-0 z-50 hidden bg-white/95 items-center justify-center flex-col cursor-pointer transition-opacity opacity-0 backdrop-blur-sm" onclick="resetTimerOverlay()">
        <div class="text-center">
            <!-- Calmer visual -->
            <i data-lucide="bell" class="w-24 h-24 text-green mx-auto mb-4 animate-float" style="animation-duration: 2s;"></i>
            <h1 class="text-6xl font-heading font-black text-green mb-2 leading-none">DONE!</h1>
            <p class="text-xl font-bold text-dark mb-8 uppercase tracking-widest">Time Is Up</p>
            <button class="btn-chunky px-8 py-4 bg-green text-white rounded-2xl text-xl hover:scale-105 transition-transform shadow-hard-lg border-2 border-dark">
                RESET TIMER
            </button>
        </div>
    </div>


    <script src="./script.js"> </script>
</body>
</html>